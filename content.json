[{"title":"Spring系列1-Filter","date":"2017-03-13T04:02:45.000Z","path":"2017/03/13/Spring系列1-Filter/","text":"SpringFramework学习 Spring提供的Filter 是什么 我们为什么要用Spring提供的Filter Spring提供的Filter 会给我们带来什么 我们带着这些问题，去认识、学习Spring提供的Filter过滤器 ## Spring Framework 是一个开源的Java／Java EE全功能栈（full-stack）的应用程序框架，以Apache许可证形式发布，也有.NET平台上的移植版本。该框架基于 Expert One-on-One Java EE Design and Development（ISBN 0-7645-4385-7）一书中的代码，最初由Rod Johnson和Juergen Hoeller等开发。Spring Framework提供了一个简易的开发方式，这种开发方式，将避免那些可能致使底层代码变得繁杂混乱的大量的属性文件和帮助类。 Spring提供的filter有如下这些，list filter: AbstractRequestLoggingFilter CharacterEncodingFilter CommonsRequestLoggingFilter CompositeFilter DelegatingFilterProxy GenericFilterBean HiddenHttpMethodFilter HttpPutFormContentFilter Log4jNestedDiagnosticContextFilter OncePerRequestFilter RequestContextFilter ServletContextRequestLoggingFilter ShallowEtagHeaderFilter 一、CharacterEncodingFilterCharacterEncodingFilter主要用于处理请求中的乱码问题。 这个类的继承关系如下： CharacterEncodingFilter的部分源码： 123456789101112131415161718public class CharacterEncodingFilter extends OncePerRequestFilter &#123; private String encoding; private boolean forceEncoding = false; @Override protected void doFilterInternal( HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException &#123; if (this.encoding != null &amp;&amp; (this.forceEncoding || request.getCharacterEncoding() == null)) &#123; request.setCharacterEncoding(this.encoding); if (this.forceEncoding) &#123; response.setCharacterEncoding(this.encoding); &#125; &#125; filterChain.doFilter(request, response); &#125;&#125; forceEncoding 为 true 为设置response的编码，并不会对request参数造成影响。 使用例子： 12345678910111213141516&lt;filter&gt; &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt; &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt; &lt;init-param&gt; &lt;param-name&gt;encoding&lt;/param-name&gt; &lt;param-value&gt;UTF-8&lt;/param-value&gt; &lt;/init-param&gt; &lt;init-param&gt; &lt;param-name&gt;forceEncoding&lt;/param-name&gt; &lt;param-value&gt;true&lt;/param-value&gt; &lt;/init-param&gt; &lt;/filter&gt;&lt;filter-mapping&gt; &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt;&lt;/filter-mapping&gt;","tags":[{"name":"Framework","slug":"Framework","permalink":"//star45.me/tags/Framework/"},{"name":"Spring","slug":"Spring","permalink":"//star45.me/tags/Spring/"}]}]